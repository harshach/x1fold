# Hyprland configuration for ThinkPad X1 Fold 16
# Source this from your main hyprland.conf:
#   source = ~/.config/hypr/x1fold.conf

# Monitor setup — the X1 Fold has a 2024x2560 OLED display.
# The monitor name may vary; check with `hyprctl monitors`.
# Override with $X1FOLD_MONITOR env var in x1fold scripts.
# Scale 1.5 recommended for ~200 DPI on this panel.
monitor = eDP-1, 2024x2560, 0x0, 1.5

# XWayland scaling — prevents blurry X11 apps at fractional scale
xwayland {
    force_zero_scaling = true
}

# Set XWayland DPI to match 1.5x scale (96 * 1.5 = 144)
env = GDK_SCALE,1.5
env = XCURSOR_SIZE,36

# Touchscreen input
input:touchdevice {
    enabled = true
}

# Pen/stylus input (Lenovo Precision Pen, Wacom AES)
input:tablet {
    transform = 0
    output = eDP-1
}

# Touchpad (if using the ThinkPad keyboard attachment)
input:touchpad {
    natural_scroll = true
    tap-to-click = true
}

# Touchscreen gestures
gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
    workspace_swipe_distance = 300
    workspace_swipe_cancel_ratio = 0.3
}

# Keybindings
$mainMod = SUPER

# Toggle laptop mode (use only top half of screen)
bind = $mainMod SHIFT, L, exec, x1fold-laptop-mode toggle

# Toggle on-screen keyboard
bind = $mainMod SHIFT, K, exec, x1fold-osk toggle

# Source autostart entries
source = ~/.config/hypr/x1fold-autostart.conf
