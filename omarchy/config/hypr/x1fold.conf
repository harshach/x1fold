# Hyprland configuration for ThinkPad X1 Fold 16
# Source this from your main hyprland.conf:
#   source = ~/.config/hypr/x1fold.conf

# Monitor setup — the X1 Fold has a 2024x2560 OLED display.
# The monitor name may vary; check with `hyprctl monitors`.
# Override with $X1FOLD_MONITOR env var in x1fold scripts.
# Scale 1.6 — nearest clean divisor of 2024x2560 (~200 DPI panel).
monitor = eDP-1, 2024x2560, 0x0, 1.6

# Remap Caps Lock to Ctrl
input {
    kb_options = ctrl:nocaps
}

# Touchscreen input
input:touchdevice {
    enabled = true
}

# Pen/stylus input (Lenovo Precision Pen, Wacom AES)
input:tablet {
    transform = 0
    output = eDP-1
}

# Touchpad (ThinkPad keyboard attachment)
input:touchpad {
    natural_scroll = true
    tap-to-click = true
    clickfinger_behavior = true
    disable_while_typing = true
}

# Gestures (trackpad + touchscreen)
# 3-finger horizontal swipe — switch workspaces
gesture = 3, horizontal, workspace
# 4-finger horizontal swipe — switch workspaces (alt)
gesture = 4, horizontal, workspace
# 3-finger swipe up — toggle special workspace (scratchpad)
gesture = 3, up, special
# 3-finger swipe down — close window
gesture = 3, down, close
# 4-finger swipe up — toggle fullscreen
gesture = 4, up, fullscreen
# 2-finger pinch — toggle fullscreen
gesture = 2, pinch, fullscreen

# Keybindings
$mainMod = SUPER

# Toggle laptop mode (use only top half of screen)
bind = $mainMod SHIFT, L, exec, x1fold-laptop-mode toggle

# Toggle on-screen keyboard
bind = $mainMod SHIFT, K, exec, x1fold-osk toggle

# Source autostart entries
source = ~/.config/hypr/x1fold-autostart.conf
